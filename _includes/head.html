<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="msvalidate.01" content="906FBCDC0D6406EA962D075B0CA99893" />
<meta name="language" content="ru">

{% if page.layout == 'home' or page.title == 'Blog SPEAKID' %}
<title>{{ page.title | escape }}</title>
{% else %}
<title>{{ page.title | escape }} | SPEAKID Blog</title>
{% endif %}

<!-- Google Fonts: Onest -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Onest:wght@400;600;700&display=swap" rel="stylesheet">

{% if page.description %}
<meta name="description" content="{{ page.description | escape }}">
{% endif %}

{% if page.author %}
<meta name="author" content="{{ page.author }}">
{% endif %}

<link rel="icon" type="image/png" href="{{ '/logo.png' | relative_url }}">

{% comment %} Автоматическое определение обложки статьи {% endcomment %}
{% assign og_image = page.image %}
{% unless og_image %}
  {% if page.layout == 'post' %}
    {% assign filename = page.url | replace: '/posts/', '' | replace: '/', '' | replace: '.html', '' | replace: '.md', '' %}
    {% assign possible_image = '/images/' | append: filename | append: '.png' %}
    {% assign og_image = possible_image %}
  {% endif %}
{% endunless %}
{% unless og_image %}
  {% assign og_image = '/og-default.png' %}
{% endunless %}

<meta property="og:title" content="{{ page.title | escape }}">
<meta property="og:description" content="{{ page.description | escape }}">
<meta property="og:image" content="{{ og_image | absolute_url }}">
<meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
<meta property="og:url" content="{{ page.url | absolute_url }}"/>
<meta property="og:site_name" content="SPEAKID Blog">
<meta property="og:locale" content="ru_RU">

{% if page.date %}
<meta property="article:published_time" content="{{ page.date | date: '%Y-%m-%d' }}">
{% endif %}

{% if page.tags %}
{% for tag in page.tags %}
<meta property="article:tag" content="{{ tag }}">
{% endfor %}
{% endif %}

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ page.title | escape }}">
<meta name="twitter:description" content="{{ page.description | escape }}">
<meta name="twitter:image" content="{{ og_image | absolute_url }}">

<!-- Canonical URL -->
<link rel="canonical" href="{{ page.url | absolute_url }}">

<!-- Schema.org JSON-LD -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "{% if page.layout == 'post' %}BlogPosting{% else %}Blog{% endif %}",
  "headline": "{{ page.title | escape }}",
  {% if page.description %}"description": "{{ page.description | escape }}",{% endif %}
  {% if page.date %}"datePublished": "{{ page.date | date: '%Y-%m-%d' }}",{% endif %}
  {% if page.author %}"author": {
    "@type": "Organization",
    "name": "{{ page.author }}",
    "url": "https://speakid.education"
  },{% endif %}
  "publisher": {
    "@type": "Organization",
    "name": "SPEAKID",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ '/logo.png' | absolute_url }}"
    }
  },
  {% if page.layout == 'post' %}"mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ page.url | absolute_url }}"
  },
  "image": "{{ og_image | absolute_url }}"{% endif %}
}
</script>
